# 基础运算符，数学运算

### 数学运算

* 加法 `+`
* 减法 `-`
* 乘法 `*`
* 除法 `/`
* 取余 `%`
* 求幂 `**`

### 二元运算符 + 拼接字符串

上面的六种算数运算符除了 + 以外，其余都是只能对数字进行算数运算，而 + 是 JS 中唯一一个重载的运算符，即它可以进行字符串的拼接，因此只要 + 的两个操作数中任意一个为字符串，则会调用 String() 方法将其转换为字符串类型，最后将结果转换为一个字符串。

```javascript
let s = "my" + "string";
alert(s); // mystring
let far = 1 + '1';
console.log(far); // 11
```

### 数字转化，一元运算符 +

加号 `+` 应用于单个值，对数字没有任何作用。但是如果运算元不是数字，加号 `+` 则会将其转化为数字。

```javascript
// 对数字无效
let x = 1;
alert( +x ); // 1

let y = -2;
alert( +y ); // -2

// 转化非数字
alert( +true ); // 1
alert( +"" );   // 0
```

### 运算符优先级

{% embed url="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Operator_Precedence" %}

### 原地修改

可以使用复合运算符对一个变量的值快速进行修改，算术运算符和位运算符都有对应的扩展运算符，比如 +=、-=、<<=、>>= 等。

```javascript
let n = 2;

n *= 3 + 5;

alert( n ); // 16 （右边部分先被计算，等同于 n *= 8）
```

### 自增/自减

对一个数进行加一、减一是最常见的数学运算符之一。

**自增**

```javascript
let counter = 2;
counter++;      // 和 counter = counter + 1 效果一样，但是更简洁
alert( counter ); // 3
```

**自减**

```javascript
let counter = 2;
counter--;      // 和 counter = counter - 1 效果一样，但是更简洁
alert( counter ); // 1
```

{% hint style="danger" %}
自增/自减只能应用于变量。试一下，将其应用于数值（比如 `5++`）则会报错。
{% endhint %}

运算符 `++` 和 `--` 可以置于变量前，也可以置于变量后。

* 当运算符置于变量后，被称为“后置形式”：`counter++`。
* 当运算符置于变量前，被称为“前置形式”：`++counter`。

### 位运算符

虽然 JS 的数值系统统一使用 IEEE 754 浮点数用来表示所有的数值，但是在将数值用于位运算符的时候，会将数值转换为 32 位整数。

下面是位运算符：

* 按位与 ( `&` )
* 按位或 ( `|` )
* 按位异或 ( `^` )
* 按位非 ( `~` )
* 左移 ( `<<` )
* 右移 ( `>>` )
* 无符号右移 ( `>>>` )

这些运算符很少被使用，一般是我们需要在最低级别（位）上操作数字时才使用。我们不会很快用到这些运算符，因为**在 Web 开发中很少使用它们**，但**在某些特殊领域中，例如密码学，它们很有用**。

### 逗号运算符

逗号运算符 `,` 是最少见最不常使用的运算符之一。有时候它会被用来写更简短的代码，因此为了能够理解代码，我们需要了解它。

逗号运算符能让我们处理多个语句，使用 `,` 将它们分开。每个语句都运行了，但是只有最后的语句的结果会被返回。

```javascript

let a = (1 + 2, 3 + 4);

alert( a ); // 7（3 + 4 的结果）
```

有时候，人们会使用它把几个行为放在一行上来进行复杂的运算。

```javascript
// 一行上有三个运算符
for (a = 1, b = 3, c = a * b; a < 10; a++) {
 ...
}
```

这样的技巧**在许多 JavaScript 框架中都有使用**，这也是为什么我们提到它。但是通常它并不能提升代码的可读性，使用它之前，我们要想清楚。

### 练习

```javascript
"" + 1 + 0 // "10"
"" - 1 + 0 // -1
true + false // 1
6 / "3" // 2
"2" * "3" // 6
4 + 5 + "px" // "9px"
"$" + 4 + 5 // "$45"
"4" - 2 // 2
"4px" - 2 // NaN
"  -9  " + 5 // "  -9  5"
"  -9  " - 5 // -14
null + 1 // 1
undefined + 1 // NaN，NaN 与任何数值的运算结果都是 NaN
" \t \n" - 2 // -2
```
